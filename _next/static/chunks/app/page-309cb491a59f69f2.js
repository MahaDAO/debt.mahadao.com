(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{96658:function(){},57522:function(e,t,a){Promise.resolve().then(a.bind(a,27496)),Promise.resolve().then(a.bind(a,4984))},57732:function(e,t,a){"use strict";var n=a(57437),r=a(33145);a(2265),t.Z=e=>{let{iconName:t,iconType:a="misc",height:l,width:i,className:o="",onClick:s}=e;return(0,n.jsx)(r.default,{src:"/icons/".concat(a,"/").concat(t,".svg"),alt:t,width:null!=i?i:24,height:null!=l?l:24,className:o,onClick:()=>{s&&s()}})}},41709:function(e,t,a){"use strict";var n=a(57437);a(2265);var r=a(63983),l=a(57732),i=a(18233);t.Z=e=>{let{type:t,msg:a,className:i=""}=e,d="#FFFFFF";return"Warning"===t?d="#FCB400":"Error"===t&&(d=r.default.color.red[300]),(0,n.jsxs)(o,{className:i,children:[(0,n.jsx)(l.Z,{iconName:t,iconType:"infoTip"}),(0,n.jsx)(s,{style:{color:d},children:a})]})};let o=(0,i.default)("div")({background:"rgba(255, 255, 255, 0.08)",boxSizing:"border-box",borderRadius:"4px",padding:"8px",display:"flex",alignItems:"flex-start",width:"100%"}),s=(0,i.default)("p")({fontFamily:"var(--font-inter)",fontStyle:"normal",fontWeight:300,fontSize:"12px",lineHeight:"130%",color:"#FCB400",flex:1,paddingLeft:"10px",marginBottom:"0"})},96753:function(e,t,a){"use strict";var n=a(57437),r=a(18233),l=a(68661),i=a(63983);a(2265);let o=RegExp("^\\d*(?:\\\\[.])?\\d*$"),s=(0,r.default)("div")({background:"".concat(i.default.color.dark[500]),display:"flex",justifyContent:"space-between",flex:1}),d=(0,r.default)("input")({padding:"12px",color:"#ffffff",fontFamily:"var(--font-inter) !important",background:"transparent",borderStyle:"none",width:"100%",height:"44px",fontWeight:600,"&:focus":{outline:"none"},"-webkit-appearance":"textfield","::-webkit-search-decoration":{"-webkit-appearance":"none"},'[type="number"]':{"-moz-appearance":"textfield"},"::-webkit-outer-spin-button":{"-webkit-appearance":"none"},"::-webkit-inner-spin-button":{"-webkit-appearance":"none"},"::placeholder":{color:"".concat(i.default.color.dark[200])}}),c=(0,r.default)("div")({fontFamily:"var(--font-inter)",fontStyle:"normal",fontWeight:600,fontSize:"14px",color:"#f7653b",padding:"10px 12px",background:"transparent",borderRadius:"0 6px 6px 0",display:"flex",alignItems:"center",position:"relative",cursor:"pointer"});t.Z=e=>{let{value:t="",setValue:a,inputMode:r="decimal",disabled:i=!1,placeholder:u="00.00",maxTag:m=!1,onMaxClick:x,border:f="6px 0 0 6px",className:p="",alignInput:g="left",isNum:h=!0}=e,v=e=>{a(e)},b=e=>{(""===e||o.test((0,l.h)(e)))&&v(e)};return(0,n.jsxs)(s,{style:{borderRadius:f},className:p,children:[(0,n.jsx)(d,{inputMode:r,placeholder:u,value:t,disabled:i,type:"string",onChange:e=>{h?b(e.target.value):v(e.target.value)},style:{textAlign:g||"left"}}),m&&(0,n.jsx)(c,{onClick:()=>{x&&x()},children:"MAX"})]})}},79006:function(e,t,a){"use strict";var n=a(57437);a(2265);var r=a(18233),l=a(67622),i=a(91534),o=a.n(i),s=a(63983);let d=(0,r.default)("div")({background:"rgba(255, 255, 255, 0.08)",borderRadius:"8px",padding:"12px"});t.Z=e=>{let t;let{dataValueLoading:a=!1,label:r="",dataLabel:i="",dataValue:c="",dontShowBackground:u=!1,className:m="",children:x}=e;return(0,n.jsxs)(d,{style:(t={},u&&(t.padding="0px",t.backgroundColor="transparent"),t),className:m,children:[(0,n.jsxs)("div",{className:"single-line-center-between m-b-12",children:[(0,n.jsx)(l.Z,{text:r,fontWeight:600,Fcolor:s.default.color.transparent[100],className:"p-r-8"}),a?(0,n.jsx)(o(),{color:"#ffffff",loading:!0,size:4,margin:2}):(0,n.jsx)(l.Z,{text:"".concat(i," ").concat(c),fontWeight:600,Fcolor:s.default.color.transparent[100],align:"right"})]}),x]})}},22382:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var n=a(57437),r=a(31691),l=a(60062),i=a(83351),o=a(2265),s=a(83983),d=a(79507),c=a(67622),u=a(17492),m=a(57732),x=e=>{let{children:t,classes:a,onClose:r,titleLogo:l,modalTitleStyle:i,closeButton:o,title:s,subTitle:x,...f}=e;return(0,n.jsx)("div",{children:(0,n.jsx)(d.Z,{style:i,className:null==a?void 0:a.root,...f,children:(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsxs)("div",{className:"dialog-class width-100",children:[l&&l,(0,n.jsx)(c.Z,{text:s,fontSize:18,fontWeight:600})]}),o?(0,n.jsx)(u.Z,{"aria-label":"close",className:null==a?void 0:a.closeButton,onClick:r,children:(0,n.jsx)(m.Z,{iconName:"Cross",iconType:"misc"})}):null]})})})},f=a(77468);let p=(0,s.D2)(f.Z,()=>({root:{minWidth:500,background:"linear-gradient(180deg, #48423E 0%, #373030 100%)",borderTop:"1px solid rgba(255, 255, 255, 0.15)",padding:"24px 32px"},dividers:{borderTop:"1px solid rgba(255, 255, 255, 0.08)"},"@media (max-width: 600px)":{root:{width:"100%",minWidth:"350px",maxHeight:"60%",padding:"24px 16px"}}})),g=(0,s.ZL)()(e=>({root:{background:"linear-gradient(180deg, #48423e 0%, #373030 100%)",boxShadow:"0 8px 16px -2px rgba(0, 0, 0, 0.12)",borderRadius:"6px !important",maxWidth:"496px"},halfScreen:{},customPaper:{},"@media (max-width: 600px)":{root:{marginTop:"250px !important",borderRadius:"6px 6px 0 0 !important"},halfScreen:{height:"auto",maxHeight:"calc(100vh - 72px)",width:"100%",borderRadius:"6px 6px 0px 0px !important"},customPaper:{alignItems:"flex-end"}}}));var h=e=>{let{children:t,title:a,handleClose:s,open:d,titleLogo:c,modalContainerStyle:u,modalTitleStyle:m,modalBodyStyle:f,closeButton:h,mobile:v=!1,subTitle:b}=e,[y,k]=(0,o.useState)(d),j=(0,r.default)(),{classes:w}=g(),N=(0,l.Z)(j.breakpoints.down("sm")),S=()=>{s&&s()};d!==y&&k(d);let Z=(0,n.jsx)("div",{});return y&&(Z=(0,n.jsxs)(i.Z,{style:u,fullScreen:N,fullWidth:v,onClose:S,"aria-labelledby":"customized-dialog-title",open:y,onBackdropClick:S,classes:{paper:w.root,paperFullScreen:w.halfScreen,scrollPaper:w.customPaper},children:[a&&(0,n.jsx)(x,{closeButton:h,modalTitleStyle:{display:"flex",flexDirection:"column",color:"rgba(255, 255, 255, 0.88)",alignItems:"center",justifyContent:"center",padding:"28px ",borderBottom:"1px solid #ffffff08",...m},id:"customized-dialog-title",onClose:S,titleLogo:c,title:a,subTitle:b,children:a}),(0,n.jsx)(p,{style:{...f},dividers:!0,children:(0,n.jsx)("div",{style:{},children:t})})]})),Z}},73266:function(e,t,a){"use strict";a.d(t,{U:function(){return r},Z:function(){return g}});var n,r,l=a(83996),i=a(80167),o=a(2265),s=a(41036),d=a(80833),c=a(68575),u=a(64707),m=(e,t,a)=>{let[n,r]=(0,o.useState)(i.O$.from(0)),l=(0,c.v9)(t=>t.token.allowance[e.address]),m=(0,s.Z)(),{address:x}=(0,u.m)(),f=(0,d.Ov)(),p=(0,o.useCallback)(async()=>{if(x){if(l&&l[t]){r(l[t]);return}r(await e.allowance(x,t))}},[x,t,e]);return(0,o.useEffect)(()=>{m.isUnlocked&&p().catch(a=>console.log("Failed to fetch allowance for ".concat(e.address," ").concat(x," ").concat(t,": ").concat(a.stack)))},[x,m.isUnlocked,p,t,e]),(0,o.useEffect)(()=>{x&&t&&e&&p().catch(e=>console.log("Failed to fetch allowance: ".concat(e.stack)))},[x,f,t,e,a,p]),n},x=a(92790);let f=l.Bz,p=i.O$.from("1000000000000000000000000");(n=r||(r={}))[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_APPROVED=1]="NOT_APPROVED",n[n.PENDING=2]="PENDING",n[n.APPROVED=3]="APPROVED";var g=function(e,t){(0,s.Z)();let a=(0,x.wB)(null==e?void 0:e.address,t),n=m(e,t,a),r=(0,o.useMemo)(()=>n?n.lt(p)?a?2:1:3:0,[n,a]),l=(0,x.h7)(),i=(0,o.useCallback)(async()=>{if(1!==r&&0!==r){console.error("Approve was called unnecessarily");return}let a=e.symbol;try{let n=await e.approve(t,f);l(n,{summary:"Approve ".concat(a),approval:{tokenAddress:e.address,spender:t}})}catch(e){console.log("approve error",e)}},[r,e,t,l]);return[r,i]}},41036:function(e,t,a){"use strict";var n=a(2265),r=a(79938);t.Z=()=>{let{core:e}=(0,n.useContext)(r._);return e}},76389:function(e,t,a){"use strict";var n=a(80167),r=a(2265),l=a(68575),i=a(80833),o=a(41036),s=a(64707);t.Z=(e,t)=>{let[a,d]=(0,r.useState)({isLoading:!0,value:n.O$.from(0)}),c=(0,l.v9)(t=>t.token.balanceOf[(null==e?void 0:e.address)||""]),u=(0,o.Z)(),{address:m}=(0,s.m)(),x=(0,i.Ov)(),f=(0,r.useCallback)(async()=>{if(!m){d({isLoading:!1,value:n.O$.from(0)});return}if(c&&c[u.myAccount]&&u.myAccount===t){d({isLoading:!1,value:c[u.myAccount]});return}d({isLoading:!1,value:await e.balanceOf(t)})},[m,e,t,c,u.myAccount]);return(0,r.useEffect)(()=>{e&&(null==e?void 0:e.address)?u.isUnlocked&&t&&f().catch(a=>console.error("Failed to fetch token balance of ".concat(t," for ").concat(e.address,": ").concat(a.stack," "))):d({isLoading:!0,value:n.O$.from(0)})},[t,x,m,u.isUnlocked,f,e]),a}},92790:function(e,t,a){"use strict";a.d(t,{h7:function(){return d},wB:function(){return c}});var n=a(2265),r=a(68575);a(8316);var l=a(80833),i=a(78710),o=a(64707),s=a(44005);function d(){let e=(0,l.i$)(),{address:t}=(0,o.m)(),a=(0,s.x)(),d=(0,r.I0)();return(0,n.useCallback)(function(n){let{summary:r,approval:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!a)return;let{hash:o}=n;if(!o)throw Error("No transaction hash found.");e({txn:{hash:o,loading:!0,success:!1,summary:r}},o),d((0,i.dT)({hash:o,from:t,chainId:a,approval:l,summary:r}))},[d,a,t])}function c(e,t){let a=function(){var e;let t=(0,s.x)(),a=(0,r.v9)(e=>e.transactions);return t&&null!==(e=a[t])&&void 0!==e?e:{}}();return(0,n.useMemo)(()=>"string"==typeof e&&"string"==typeof t&&Object.keys(a).some(n=>{let r=a[n];if(!r||r.receipt)return!1;{let a=r.approval;return!!a&&a.spender===t&&a.tokenAddress===e&&new Date().getTime()-r.addedTime<864e5}}),[a,t,e])}},57099:function(e,t,a){"use strict";a.d(t,{el:function(){return l},fN:function(){return r},tW:function(){return i},uL:function(){return o}});var n=a(80167);let r={isLoading:!0,value:n.O$.from(0)},l={isLoading:!1,value:n.O$.from(0)};n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),n.O$.from(0),Date.now(),Date.now(),Date.now(),Date.now(),n.O$.from(10).pow(18);let i={blockNumber:{},popupList:[],walletModalOpen:!1,settingsMenuOpen:!1},o={};n.O$.from(0)},85525:function(e,t,a){"use strict";a.d(t,{Bx:function(){return i},w4:function(){return l}});var n=a(80167),r=a(78487);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;try{return(0,r.formatUnits)(e,t)}catch(e){return"0"}}(e,t),l=n.indexOf(".");if(-1===l)return n;return n.slice(0,l)+"."+n.slice(l+1,l+1+a)}catch(e){return"0"}},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;try{let[a,l]="".concat(e).split("."),i=(null==a?void 0:a.slice(0,18))||"0",o=(null==l?void 0:l.slice(0,t))||"0",s="".concat(i,".").concat(o);return n.O$.from((0,r.parseUnits)("".concat(s),t))}catch(e){return n.O$.from("0")}}},71975:function(e,t){"use strict";t.Z=e=>(e=e.toLowerCase()).includes("cannot add to expired lock. withdraw")?"Cannot add to an expired lock. You need to Withdraw.":e.includes("withdraw old tokens first")?"Withdraw old tokens first.":e.includes("can only lock until time in the future")?"Can only lock for future unlock time.":e.includes("voting lock can be 4 years max")?"Voting lock cannot be greater than 4 Years.":e.includes("no existing lock found")?"No lock found.":e.includes("nothing is locked")?"Nothing is locked.":e.includes("can only increase lock duration")?"Can only increase the lock duration.":e.includes("lock expired")?"The lock has expired.":e.includes("the lock didn't expire")?"The lock did not expire.":e.includes("fallback not initiated")?"Emergency withdraw is not enabled.":"Error Occured, Please try again later."},27496:function(e,t,a){"use strict";a.d(t,{default:function(){return el}});var n=a(57437),r=a(2265),l=a(18233),i=a(60062),o=a(61941),s=a(52680),d=a.n(s),c=a(41709),u=a(96753),m=a(79006),x=a(22382),f=a(63983),p=a(67622);let g=(0,l.default)("div")({border:"1px solid",borderRadius:"6px"});var h=e=>{let{state:t,msg:a="",children:r}=e,l=f.default.color.transparentog;return"error"===t?l=f.default.color.red[300]:"warning"===t&&(l=f.default.color.yellow[300]),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{style:{borderColor:l},children:r}),(0,n.jsx)(p.Z,{text:a,className:"m-t-4",fontSize:12,Fcolor:l})]})},v=a(73266),b=a(80167),y=a(38480),k=a.n(y),j=a(41036),w=a(92790),N=a(80833),S=a(71975),Z=a(85525),C=a(78487),A=e=>{let t;t=e.length?b.O$.from((0,C.parseUnits)(e)):b.O$.from((0,C.parseUnits)("0"));let a=(0,j.Z)(),n=(0,w.h7)(),l=(0,N.i$)(),i=a.contracts["Staking-RewardsV2"];return(0,r.useCallback)(async e=>{try{let a=await i.stake(t);n(a,{summary:"Stake ".concat(k()((0,Z.w4)(t,18,3)).format("0,0.00a")," ARTH-DP")}),e&&e(a.hash)}catch(e){var a;console.log("useDeposit e",e),l({error:{message:(0,S.Z)((null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message)||(null==e?void 0:e.message)),stack:e.stack}})}},[a,t])},D=a(76389),O=a(5067),T=e=>{var t;let{openModal:a,onModalClose:l,selectedData:s}=e,d=(0,i.Z)("(max-width: 600px)"),[c,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),k=(0,N.iT)(),[w,S]=(0,r.useState)(),C=k.find(e=>{var t;return(null===(t=e.content.txn)||void 0===t?void 0:t.hash)===w}),T=!!(null==C?void 0:null===(t=C.content.txn)||void 0===t?void 0:t.loading),B=(0,j.Z)(),R=(0,r.useMemo)(()=>s,[B,s]),F=(0,D.Z)(R,B.myAccount),[L,$]=(0,v.Z)(R,B.contracts["Staking-RewardsV2"].address),P=A(c),H=async()=>{y(!0),await P(e=>{S(e)}),y(!1)},_=L===v.U.APPROVED,E=L===v.U.PENDING,z=(0,r.useMemo)(()=>(0,Z.Bx)(c,R.decimal).gt(F.value),[c,R.decimal,F.value]);return(0,n.jsx)(x.Z,{closeButton:!0,handleClose:()=>{f(""),l()},open:a,title:"Stake your token",subTitle:"lorem ispum lorem ipsum lorem ipsum",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{label:"Enter Amount",dataLabel:"Balance: ",dataValue:"".concat(Number((0,Z.w4)(F.value,18,3)).toLocaleString()),dataValueLoading:F.isLoading,className:"m-b-32",children:(0,n.jsx)(h,{state:z?"error":"default",msg:"Amount cannot be greater than your balance",children:(0,n.jsx)("div",{className:"single-line-center-between",children:(0,n.jsx)(u.Z,{value:c,setValue:f,maxTag:!0,onMaxClick:()=>{f(Number((0,Z.w4)(F.value,18,3)).toString())}})})})})}),(0,n.jsxs)(O.Z,{container:!0,spacing:2,direction:d?"column-reverse":"row",children:[(0,n.jsx)(O.Z,{size:{lg:6,md:6,sm:12,xs:12},children:(0,n.jsx)(o.Z,{variant:"transparent",text:"Cancel",size:"lg",onClick:()=>{f(""),l()},tracking_id:"stake_deposit",tracking_params:{action:"cancel",collateral:null==s?void 0:s.displayName,amount:Number(c)}})}),(0,n.jsx)(O.Z,{size:{lg:6,md:6,sm:12,xs:12},children:_?(0,n.jsx)(o.Z,{disabled:p||!Number(c)||b||z||T,text:"Deposit",loading:b||T,size:"lg",onClick:H,tracking_id:"stake_deposit",tracking_params:{action:"confirm",collateral:s.displayName,amount:Number(c)}}):(0,n.jsx)(o.Z,{loading:E,text:E?"Approving":"Approve",size:"lg",onClick:$,disabled:p||_||!Number(c),tracking_id:"approve_stake_deposit",tracking_params:{collateral:s.displayName}})})]})]})})},B=e=>{let t;t=e.length?b.O$.from((0,C.parseUnits)(e)):b.O$.from((0,C.parseUnits)("0"));let a=(0,j.Z)(),n=(0,w.h7)(),l=(0,N.i$)(),i=a.contracts["Staking-RewardsV2"];return(0,r.useCallback)(async e=>{try{let a=await i.withdraw(t);n(a,{summary:"Withdraw ".concat(k()((0,Z.w4)(t,18,3)).format("0,0.00a")," ARTH-DP")}),e&&e(a.hash)}catch(e){var a;console.log("useWithdraw e",e),l({error:{message:(0,S.Z)((null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message)||(null==e?void 0:e.message)),stack:e.stack}})}},[a,t])},R=a(68575),F=a(57099),L=a(64707),$=e=>{let[t,a]=(0,r.useState)(F.fN),{address:n}=(0,L.m)(),l=(0,j.Z)(),i=(0,N.Ov)(),o=(0,R.v9)(e=>e.token.yourAllocation),s=(0,r.useCallback)(async()=>{if(!n){a({isLoading:!1,value:b.O$.from(0)});return}if(o&&o[e]&&l.myAccount===e){a({isLoading:!1,value:o[e]});return}let t=await l.contracts["Staking-RewardsV2"];a({isLoading:!1,value:await t.balanceOf(e)})},[e]);return(0,r.useEffect)(()=>{l&&e?s().catch(t=>{a(F.el),console.error("Failed to fetch token balance of ".concat(e," for ARTH-DP: ").concat(t.stack," "))}):a(F.el)},[e,i,l,s]),t},P=e=>{var t;let{openModal:a,onModalClose:l,selectedData:s}=e,d=(0,i.Z)("(max-width: 600px)"),c=(0,j.Z)(),[f,p]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),k=(0,N.iT)(),[w,S]=(0,r.useState)(),C=k.find(e=>{var t;return(null===(t=e.content.txn)||void 0===t?void 0:t.hash)===w}),A=!!(null==C?void 0:null===(t=C.content.txn)||void 0===t?void 0:t.loading);(0,r.useEffect)(()=>{p("0")},[]);let D=(0,r.useMemo)(()=>s,[c,s]),T=$(c.myAccount),R=B(f),F=async()=>{y(!0),await R(e=>{S(e)}),y(!1)},L=(0,r.useMemo)(()=>(0,Z.Bx)(f,D.decimal).gt(T.value),[f,D.decimal,T.value]);return(0,n.jsx)(x.Z,{closeButton:!0,handleClose:()=>{p(""),l()},open:a,title:"Withdraw your debt tokens",subTitle:"You can withdraw your debt token from this model and use it to sell it for other tokens in the buy/sell seciton below.",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{label:"Enter Amount",dataLabel:"Balance: ",dataValue:"".concat(Number((0,Z.w4)(T.value,18,3)).toLocaleString()),className:"m-b-32",children:(0,n.jsx)(h,{state:L?"error":"default",msg:"Amount cannot be greater than your staked mount",children:(0,n.jsx)("div",{className:"single-line-center-between",children:(0,n.jsx)(u.Z,{value:f,setValue:p,maxTag:!0,onMaxClick:()=>{p(Number((0,Z.w4)(T.value,18,3)).toString())}})})})})}),(0,n.jsxs)(O.Z,{container:!0,spacing:2,direction:d?"column-reverse":"row",style:{marginTop:"32px"},children:[(0,n.jsx)(O.Z,{size:{lg:6,md:6,sm:12,xs:12},children:(0,n.jsx)(o.Z,{variant:"transparent",text:"Cancel",size:"lg",onClick:()=>{p(""),l()},tracking_id:"stake_withdraw",tracking_params:{action:"cancel",collateral:"",amount:Number(f)}})}),(0,n.jsx)(O.Z,{size:{lg:6,md:6,sm:12,xs:12},children:(0,n.jsx)(o.Z,{disabled:g||!Number(f)||b||A,text:"Withdraw",loading:b||A,size:"lg",onClick:F,tracking_id:"stake_withdraw",tracking_params:{action:"confirm",collateral:"",amount:Number(f)}})})]})]})})},H=e=>{let t=(0,j.Z)(),a=(0,N.Ov)(),{address:n}=(0,L.m)(),[l,i]=(0,r.useState)(F.fN),o=(0,R.v9)(e=>e.token.totalSupply),s=(0,r.useCallback)(async()=>{let e;if(e=t.contracts["ARTH-DP"],!n){i({isLoading:!1,value:b.O$.from(0)});return}if(o&&o[t.contracts["ARTH-DP"].address]){i({isLoading:!1,value:o[t.contracts["ARTH-DP"].address]});return}i({isLoading:!1,value:await e.totalSupply()})},[t,e,n]);return(0,r.useEffect)(()=>{t?s().catch(e=>{i(F.el),console.error("Failed to locked state: ".concat(e.stack))}):i(F.el)},[t,s,a]),l},_=()=>{let e=(0,j.Z)(),t=(0,N.Ov)(),[a,n]=(0,r.useState)(F.fN),l=(0,r.useCallback)(async()=>{let t=e.contracts["Staking-RewardsV2"];n({isLoading:!1,value:await t.totalSupply()})},[e]);return(0,r.useEffect)(()=>{e?l().catch(e=>{n(F.el),console.error("Failed to locked state: ".concat(e.stack))}):n(F.el)},[e,l,t]),a},E=()=>{let e=(0,j.Z)(),t=(0,N.i$)(),a=(0,w.h7)();return(0,r.useCallback)(async n=>{try{let t=e.contracts["Staking-RewardsV2"],r=await t.getReward();a(r,{summary:"Claimed rewards successfully!"}),n&&n(r.hash)}catch(e){var r;console.log(e),t({error:{message:(0,S.Z)((null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.message)||(null==e?void 0:e.message)),stack:null==e?void 0:e.stack}})}},[e,t,a])},z=()=>{let[e,t]=(0,r.useState)(F.fN),a=(0,j.Z)(),{address:n}=(0,L.m)(),l=(0,R.v9)(e=>e.token.yourRewards),i=(0,r.useCallback)(async()=>{if(!n){t({isLoading:!1,value:b.O$.from(0)});return}if(l&&n&&l[n]){t({isLoading:!1,value:l[n]});return}let e=a.contracts["Staking-RewardsV2"];t({isLoading:!1,value:await e.earned(n)})},[n,a]);return(0,r.useEffect)(()=>{a&&n?i().catch(e=>{t(F.el),console.error("Failed to locked state: ".concat(e.stack))}):t(F.el)},[a,i,n]),e};let I=(0,l.default)("div")({flex:2,width:"100%",borderRadius:6,height:"100%",border:"1px solid",borderImageSource:"linear-gradient(180deg, rgba(255, 116, 38, 0.1) 0%, rgba(255, 255, 255, 0) 100%)","@media (max-width: 768px)":{marginTop:0,marginBottom:8}}),M=(0,l.default)("div")({display:"flex",padding:"0 32px 32px 32px",alignItems:"self-start",flexDirection:"column",marginTop:"24px","@media (max-width: 600px)":{padding:"0 16px 16px 16px"}}),W=(0,l.default)("a")({color:"#fff",textDecoration:"none",borderBottom:"1px dotted #fff"}),U=(0,l.default)("h2")({color:"#fff",display:"flex",fontWeight:600,fontSize:"18px",justifyContent:"start",alignItems:"center",textAlign:"center",padding:"32px",borderBottom:"1px solid #ffffff20","@media (max-width: 600px)":{padding:"16px"}}),V=(0,l.default)("span")({display:"inline-block",fontSize:"18px",fontWeight:"bold",color:"rgba(255, 255, 255, 0.88)",textAlign:"right"}),Q=(0,l.default)("div")({display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center","&:last-child":{marginBottom:0},"&.right":{textAlign:"right"}}),Y=(0,l.default)("div")({padding:"5px 0",color:"#eee",position:"relative",backgroundClip:"padding-box",border:"1px solid",borderImageSource:"linear-gradient(180deg, rgba(255, 116, 38, 0.1) 0%, rgba(255, 255, 255, 0) 100%)",background:"rgba(255, 255, 255, 0.02)",backdropFilter:"blur(70px)",borderRadius:"6px","@media (max-width: 768px)":{minHeight:"auto"},minHeight:"400px"}),q=(0,l.default)("div")({fontStyle:"normal",fontWeight:300,fontSize:"16px",lineHeight:"150%",color:"rgba(255, 255, 255, 0.64)",margin:"5px 0"}),G=(0,l.default)("div")({boxSizing:"border-box",display:"flex",alignItems:"flex-end",marginTop:"12px",width:"100%"});var K=e=>{var t;let{price:a,symbol:l}=e,s=(0,j.Z)(),u=s.tokens["ARTH-DP"],[m,x]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),g=H(l),h=(0,D.Z)(u,s.myAccount),v=$(s.myAccount),b=_(),[y,k]=(0,r.useState)(!1),[w,S]=(0,r.useState)(),C=E(),A=z(),O=(0,N.iT)().find(e=>{var t;return(null===(t=e.content.txn)||void 0===t?void 0:t.hash)===w}),B=!!(null==O?void 0:null===(t=O.content.txn)||void 0===t?void 0:t.loading),R=(0,r.useMemo)(()=>{if(h.value.isZero()||g.value.isZero()||g.value.sub(h.value).isZero()||b.value.isZero())return 0;let e=b.value.sub(v.value);return b.value.sub(e).mul(1e7).div(b.value).toNumber()/1e5},[h,g]),F=async()=>{k(!0),await C(e=>{S(e)}),k(!1)};(0,Z.w4)(A.value);let L=!h.value.isZero(),K=!v.value.isZero(),X=(0,i.Z)("(max-width: 600px)");return(0,n.jsxs)(I,{style:{marginRight:X?"":"16px"},children:[(0,n.jsxs)(Y,{className:"material-primary",children:[(0,n.jsx)(U,{children:(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"baseline",textAlign:"left"},children:(0,n.jsx)("span",{children:"".concat(l," into Payback Pool")})})}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(Q,{children:[(0,n.jsx)(q,{children:"Your Allocation"}),(0,n.jsxs)(V,{children:[Number((0,Z.w4)(v.value,18,3)).toLocaleString()||0," ",l]})]}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(q,{children:"Your Deposit Share"}),(0,n.jsxs)(V,{children:["0.00"!=R.toFixed(2)?R.toFixed(2):R.toFixed(5),"%"]})]}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(q,{children:"Your Rewards"}),(0,n.jsxs)(V,{children:[A.isLoading?(0,n.jsx)(d(),{color:"#ffffff",loading:!0,size:4,margin:2}):Number((0,Z.w4)(A.value,18,5)).toLocaleString(void 0,{minimumFractionDigits:5,maximumFractionDigits:8})," ","USDC"]})]}),(0,n.jsx)("div",{className:"m-b-8 m-t-40",children:(0,n.jsx)(c.Z,{type:"Info",msg:"This pool allows users to convert their ".concat(l," token into debt to the protocol.\n              The protocol promises to pay all holders of this pool their ").concat(l," (polygon)\n              tokens at a price of ").concat(a,"$.")})}),(0,n.jsx)("div",{className:"m-b-16 m-t-8",children:(0,n.jsx)(c.Z,{type:"Warning",msg:(0,n.jsxs)("div",{children:["If you can't find your allocation in this pool, you can raise a ticket to"," ",(0,n.jsx)(W,{target:"_blank",href:"https://support.mahadao.com/support/tickets/new",children:"support.mahadao.com"})]})})}),(0,n.jsxs)(G,{style:{flexDirection:X?"column":"row",marginBottom:"16px"},children:[(0,n.jsx)(o.Z,{text:"Deposit Debt Tokens",onClick:()=>{x(!0)},disabled:!L}),(0,n.jsx)("div",{style:{width:"100px",marginTop:X?"15px":""}}),(0,n.jsx)(o.Z,{text:"Withdraw Debt Tokens",onClick:()=>p(!0),disabled:!K})]}),(0,n.jsx)(o.Z,{disabled:A.value.eq(0)||B||y,text:"Claim USDC",loading:B||y,onClick:F})]})]}),(0,n.jsx)(T,{openModal:m,onModalClose:()=>x(!1),selectedData:u}),(0,n.jsx)(P,{openModal:f,onModalClose:()=>p(!1),selectedData:u})]})},X=a(91534),J=a.n(X),ee=()=>{let e=(0,j.Z)(),t=(0,N.Ov)(),[a,n]=(0,r.useState)(F.fN),l=(0,r.useCallback)(async()=>{let t=e.contracts["ARTH-DP"];n({isLoading:!1,value:await t.mintedSupply()})},[e]);return(0,r.useEffect)(()=>{e?l().catch(e=>{n(F.el),console.error("Failed to locked state: ".concat(e.stack))}):n(F.el)},[e,l,t]),a},et=a(15053),ea=()=>{let e=ee(),t=H("ARTH-DP"),a=(0,r.useMemo)(()=>{if(e.isLoading)return{isLoading:!0,value:b.O$.from(0)};if(0>Number((0,Z.w4)(e.value,18,3))||!e)return{isLoading:!1,value:b.O$.from(0)};if(t.value!==e.value&&!t.value.isZero()&&!e.value.isZero()){t.value.sub(e.value);let a=e.value.sub(t.value).mul(100).div(e.value).toNumber();return console.log("sdf",a),{isLoading:!1,value:et.parseEther("".concat(a))}}return{isLoading:!1,value:et.parseEther("0")}},[t,e]);return(0,n.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,n.jsx)("div",{className:"material-primary m-b-16 single-line-center-center",style:{flex:1},children:(0,n.jsxs)("div",{className:"m-b-8",children:[e.isLoading?(0,n.jsx)(J(),{color:"#ffffff",loading:!0,size:4,margin:2}):(0,n.jsx)(p.Z,{text:Number((0,Z.w4)(e.value,18,3)).toLocaleString(void 0,{minimumFractionDigits:3})+" ARTH-DP",fontSize:24,fontWeight:"bold",Fcolor:"#FFFFFF",align:"center",className:"m-b-16"}),a.isLoading?(0,n.jsx)(J(),{color:"#ffffff",loading:!0,size:4,margin:2}):(0,n.jsx)(p.Z,{text:"("+Number((0,Z.w4)(a.value,18,3)).toLocaleString(void 0,{minimumFractionDigits:3})+" % debt burned)",fontSize:24,Fcolor:f.default.color.transparent[100],align:"center"})]})}),(0,n.jsx)("div",{className:"material-primary single-line-center-center",style:{flex:1},children:(0,n.jsxs)("div",{children:[t.isLoading?(0,n.jsx)("div",{className:"single-line-center-center",children:(0,n.jsx)(J(),{color:"#ffffff",loading:!0,size:4,margin:2})}):(0,n.jsx)(p.Z,{text:"$ ".concat(Number((0,Z.w4)(t.value,18,3)).toLocaleString(void 0,{minimumFractionDigits:3})),fontSize:24,fontWeight:"bold",Fcolor:"#FFFFFF",align:"center",className:"m-b-16"}),(0,n.jsx)("div",{className:"single-line-center-center m-b-16",children:(0,n.jsx)(p.Z,{fontSize:24,text:"Total debt issued",Fcolor:f.default.color.transparent[100]})})]})})]})};let en=(0,l.default)("div")({display:"flex",marginBottom:"50px"}),er=(0,l.default)("div")(()=>({color:"#999",display:"flex",fontSize:"16px",justifyContent:"start",alignItems:"center",padding:"0 0px 30px 0px",borderBottom:"1px solid #ffffff20","@media (max-width: 600px)":{padding:"16px"}}));var el=()=>{let e=(0,i.Z)("(max-width: 680px)");return(0,n.jsxs)("div",{className:"custom-container",style:{marginTop:"110px"},children:[(0,n.jsx)("div",{className:"m-b-40",children:(0,n.jsx)(er,{children:"The payback pool is a platform for holders to get reimbursed from protocol revenue. You can burn your debt tokens for USDC that gets collected from the protocol's revenue at a 1:1 ratio. Or you can choose to sell your debt tokens for either USDC or MAHA at a price you choose."})}),(0,n.jsxs)(en,{style:{flexDirection:e?"column":"row"},children:[(0,n.jsx)(K,{price:1,symbol:"ARTH-DP"}),(0,n.jsx)(ea,{})]})]})}},4984:function(e,t,a){"use strict";a.d(t,{default:function(){return eo}});var n=a(57437),r=a(18233),l=a(60062),i=a(61941),o=a(2265),s=a(41709),d=a(96753),c=a(22382),u=a(73266),m=a(80167),x=a(38480),f=a.n(x),p=a(41036),g=a(92790),h=a(80833),v=a(71975),b=a(85525),y=(e,t,a,n)=>{let r=(0,p.Z)(),l="Buy"===a?r.tokens[n].address:r.tokens["ARTH-DP"].address,i="Buy"===a?r.tokens["ARTH-DP"].address:r.tokens[n].address,s=(0,g.h7)(),d=(0,h.i$)(),c=r.contracts.MatchingMarket;return(0,o.useCallback)(async o=>{try{let d=await c["offer(uint256,address,uint256,address,uint256,bool)"](e,l,t,i,m.O$.from("0"),!0,{});s(d,{summary:"".concat(a," ").concat(f()((0,b.w4)(t,18,3)).format("0,0.00a")," ").concat(r.tokens[n].symbol)}),o&&o(d.hash)}catch(e){var u;console.log("useBuyoffer e",e),d({error:{message:(0,v.Z)((null==e?void 0:null===(u=e.data)||void 0===u?void 0:u.message)||(null==e?void 0:e.message)),stack:e.stack}})}},[r,e,t])},k=(e,t,a,n)=>{let r=(0,p.Z)(),l="Buy"===a?r.tokens[n].address:r.tokens["ARTH-DP"].address,i="Buy"===a?r.tokens["ARTH-DP"].address:r.tokens[n].address,s=(0,g.h7)(),d=(0,h.i$)();return(0,o.useCallback)(async n=>{try{let o=r.contracts.MatchingMarket,d=await o["offer(uint256,address,uint256,address,uint256,bool)"](e,l,t,i,m.O$.from("0"),!0,{});s(d,{summary:"".concat(a," ").concat(f()((0,b.w4)(t,6,3)).format("0,0.00a")," ").concat(r.tokens["ARTH-DP"].symbol)}),n&&n(d.hash)}catch(e){var o;console.log("useSelloffer e",e),d({error:{message:(0,v.Z)((null==e?void 0:null===(o=e.data)||void 0===o?void 0:o.message)||(null==e?void 0:e.message)),stack:e.stack}})}},[r,e,t])},j=a(5067);let w=(0,r.default)("div")({display:"flex",padding:"0px",alignItems:"self-start",flexDirection:"column","@media (max-width: 600px)":{padding:"0 16px 16px 16px"}});(0,r.default)("a")({color:"#fff",textDecoration:"none",borderBottom:"1px dotted #fff"}),(0,r.default)("h2")({color:"#fff",display:"flex",fontWeight:600,fontSize:"18px",justifyContent:"start",alignItems:"center",textAlign:"center",padding:"32px",borderBottom:"1px solid #FFFFFF20","@media (max-width: 600px)":{padding:"16px"}});let N=(0,r.default)("span")({display:"inline-block",fontSize:"16px",fontWeight:"bold",color:"rgba(255, 255, 255, 0.88)",textAlign:"right"}),S=(0,r.default)("div")({display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center","&:last-child":{marginBottom:"0"},"&.right":{textAlign:"right"}}),Z=(0,r.default)("div")({fontStyle:"normal",fontWeight:300,fontSize:"16px",lineHeight:"150%",color:"rgba(255, 255, 255, 0.64)",margin:"5px 0"});var C=e=>{var t,a;let{openModal:r,onModalClose:s,action:d,tableData:m,subTitle:x,buyResponseHash:f,setBuyResponseHash:g,sellResponseHash:v,setSellResponseHash:C}=e,A=(0,p.Z)(),D=(0,l.Z)("(max-width: 600px)"),[O,T]=(0,o.useState)("0"),[B,R]=(0,o.useState)("0"),[F,L]=(0,o.useState)("0"),[$,P]=(0,o.useState)(!1),[H,_]=(0,o.useState)(!1),[E,z]=(0,o.useState)(A.tokens.USDC),[I,M]=(0,o.useState)(!1),W=(0,h.iT)(),U=W.find(e=>{var t;return(null===(t=e.content.txn)||void 0===t?void 0:t.hash)===f}),V=null==U?void 0:null===(t=U.content.txn)||void 0===t?void 0:t.loading,Q=W.find(e=>{var t;return(null===(t=e.content.txn)||void 0===t?void 0:t.hash)===v}),Y=null==Q?void 0:null===(a=Q.content.txn)||void 0===a?void 0:a.loading;(0,o.useEffect)(()=>{T(m.quote),R(m.base),L(m.total),"Buy"===d&&("USDC"==m.selectQuoteToken.name?z(A.tokens.USDC):z(A.tokens.MAHA)),"Sell"===d&&z(A.tokens["ARTH-DP"])},[m]);let[q,G]=(0,u.Z)(E,A.contracts.MatchingMarket.address),K=y((0,b.Bx)(m.total,6),(0,b.Bx)(B),d,m.selectQuoteToken.name);async function X(){M(!0),await K(e=>{g(e)}),M(!1)}let J=k((0,b.Bx)(B),(0,b.Bx)(m.total,6),d,m.selectQuoteToken.name);async function ee(){M(!0),await J(e=>{C(e)}),M(!1)}let et=q===u.U.APPROVED,ea=q===u.U.PENDING;return(0,n.jsx)(c.Z,{closeButton:!0,handleClose:s,open:r,title:"".concat(d," Order"),subTitle:x,children:(0,n.jsx)("div",{children:(0,n.jsxs)(w,{children:[(0,n.jsxs)(S,{children:[(0,n.jsx)(Z,{children:"Price"}),(0,n.jsxs)(N,{children:[m.quote," ",m.selectQuoteToken.name]})]}),(0,n.jsxs)(S,{children:[(0,n.jsx)(Z,{children:"Amount"}),(0,n.jsxs)(N,{children:[m.base," ARTH-DP"]})]}),(0,n.jsxs)(S,{className:"m-b-40",children:[(0,n.jsx)(Z,{children:"Total"}),(0,n.jsxs)(N,{children:[m.total," ",m.selectQuoteToken.name]})]}),(0,n.jsxs)(j.Z,{container:!0,spacing:2,direction:D?"column-reverse":"row",children:[(0,n.jsx)(j.Z,{size:{lg:6,md:6,sm:12,xs:12},children:(0,n.jsx)(i.Z,{variant:"transparent",text:"Cancel",size:"lg",onClick:s})}),(0,n.jsx)(j.Z,{size:{lg:6,md:6,sm:12,xs:12},children:et?(0,n.jsx)(i.Z,{disabled:$||!Number(O)||!Number(B)||H||V||Y||I,text:"".concat(d),loading:H||V||Y||I,size:"lg",onClick:"Buy"===d?X:ee}):(0,n.jsx)(i.Z,{loading:ea,text:ea?"Approving":"Approve",size:"lg",onClick:G,disabled:$||et||!Number(O)})})]})]})})})};let A=(0,r.default)("div")({display:"flex",padding:"0 32px 32px 32px",alignItems:"self-start",marginTop:"24px",flexDirection:"column","@media (max-width: 600px)":{padding:"0 16px 16px 16px"}}),D=(0,r.default)("div")({display:"flex",flexDirection:"row",width:"100%","&:last-child":{marginBottom:0},"&.right":{textAlign:"right"}}),O=(0,r.default)("div")({flexBasis:"20%"}),T=(0,r.default)("div")({flexBasis:"55%"}),B=(0,r.default)("div")({flexBasis:"25%"});var R=e=>{let{action:t,selectQuoteToken:a,baseTokenBalance:r,setBuyResponseHash:l,setSellResponseHash:c,buyResponseHash:u,sellResponseHash:m}=e,[x,f]=(0,o.useState)(""),[p,g]=(0,o.useState)(""),[h,v]=(0,o.useState)("0"),[y,k]=(0,o.useState)("0"),[j,w]=(0,o.useState)(!1),N=!1;return N="Buy"===t?Number(a.balance)<Number(x)||Number(a.balance)<Number(h):Number(p)>Number((0,b.w4)(r.value)),(0,o.useEffect)(()=>{x.length&&p.length?("Buy"===t&&v((Number(x)*Number(p)).toString()),"Sell"===t&&k((Number(x)*Number(p)).toString())):(v("0"),k("0"))},[x,p]),(0,n.jsxs)(A,{children:[(0,n.jsxs)(D,{children:[(0,n.jsx)(O,{className:"table-border single-line-center-center",children:"Price"}),(0,n.jsx)(T,{className:"table-border text-right",children:(0,n.jsx)(d.Z,{value:x,setValue:f,alignInput:"right"})}),(0,n.jsx)(B,{className:"table-border single-line-center-center",children:a.name})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(O,{className:"table-border single-line-center-center",children:"Amount"}),(0,n.jsx)(T,{className:"table-border text-right",children:(0,n.jsx)(d.Z,{value:p,setValue:g,alignInput:"right"})}),(0,n.jsx)(B,{className:"table-border single-line-center-center",children:"ARTH-DP"})]}),(0,n.jsxs)(D,{style:{marginBottom:"40px"},children:[(0,n.jsx)(O,{className:"table-border single-line-center-center",children:"Total"}),(0,n.jsx)(T,{className:"table-border text-right",children:(0,n.jsx)(d.Z,{disabled:!0,value:"Buy"===t?h.toString():y.toString(),setValue:"Buy"===t?v:k,alignInput:"right"})}),(0,n.jsx)(B,{className:"table-border single-line-center-center",children:a.name})]}),(0,n.jsxs)(D,{style:{alignItems:"center"},children:[(0,n.jsx)(T,{children:"Buy"===t?Number(a.balance)<Number(x)||Number(a.balance)<Number(h)?(0,n.jsx)(s.Z,{type:"Error",msg:"You don't have enough ".concat(a.name," tokens")}):(0,n.jsx)(s.Z,{type:"Warning",msg:"Enter a price to unlock amount"}):Number(p)>Number((0,b.w4)(r.value))?(0,n.jsx)(s.Z,{type:"Error",msg:"You don't have enough ARTH-DP tokens"}):(0,n.jsx)(s.Z,{type:"Warning",msg:"Enter a price to unlock amount"})}),(0,n.jsx)(O,{}),(0,n.jsx)(B,{style:{textAlign:"center"},children:(0,n.jsx)(i.Z,{disabled:N,text:"".concat(t),onClick:()=>w(!0)})})]}),(0,n.jsx)(C,{subTitle:"Here you can place an order to ".concat(t.toLowerCase()," debt tokens."),openModal:j,buyResponseHash:u,setBuyResponseHash:l,sellResponseHash:m,setSellResponseHash:c,onModalClose:()=>{f(""),g(""),v("0"),k("0"),w(!1)},action:t,tableData:{quote:x,base:p,total:"Buy"===t?h.toString():y.toString(),quoteTokenBalance:a.balance,selectQuoteToken:a}})]})},F=a(61208),L=a(29024),$=(e,t)=>{var a;let[n,r]=(0,o.useState)([]),l=(0,h.iT)(),i=(0,p.Z)(),s=l.find(e=>{var a;return(null===(a=e.content.txn)||void 0===a?void 0:a.hash)===t}),d=!!(null==s?void 0:null===(a=s.content.txn)||void 0===a?void 0:a.success),c=(0,o.useCallback)(async()=>{let e=await i.contracts.MatchingMarket,t=await e.last_offer_id(),a=new F.m({ethersProvider:i.provider,tryAggregate:!0}),n=[];console.log("lastOfferId",t.toString());for(let e=1;e<=t.toString();e++)n.push({reference:"fooCall"+e,methodName:"offers",methodParameters:[e]});let l=[{reference:"testContract",contractAddress:e.address,abi:L,calls:n}];r((await a.call(l)).results.testContract.callsReturnContext.map((e,t)=>({id:t+1,pay_amt:m.O$.from(e.returnValues[0]),pay_gem:e.returnValues[1],buy_amt:m.O$.from(e.returnValues[2]),buy_gem:e.returnValues[3],owner:e.returnValues[4],timestamp:e.returnValues[5]})).filter(e=>"0x00"!==e.buy_amt._hex))},[i.contracts,i.provider]);return(0,o.useEffect)(()=>{c()},[c,e]),(0,o.useEffect)(()=>{d&&window.location.reload()},[c,d]),n},P=e=>{let t=(0,p.Z)(),a=(0,g.h7)(),n=(0,h.i$)(),r=t.contracts.MatchingMarket;return async(e,t)=>{try{let n=await r["cancel(uint256)"](m.O$.from("".concat(e)));a(n,{summary:"Cancel Offer ".concat(e)}),t&&t(n.hash)}catch(e){var l;console.log("useCancelOffer e",e),n({error:{message:(0,v.Z)((null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.message)||(null==e?void 0:e.message)),stack:e.stack}})}}},H=a(66897);let _=(0,r.default)("div")({display:"flex",padding:"0 32px 32px 32px",alignItems:"self-start",marginTop:"24px",flexDirection:"column","@media (max-width: 600px)":{padding:"0 16px 16px 16px"}}),E=(0,r.default)("div")({display:"flex",flexDirection:"row",width:"100%","&:last-child":{marginBottom:"0"},"&.right":{textAlign:"right"}}),z=(0,r.default)("div")({flexBasis:"33%",padding:"9px"}),I=(0,r.default)("div")({flexBasis:"33%",padding:"9px"}),M=(0,r.default)("div")({flexBasis:"33%",padding:"9px"});var W=e=>{var t;let{selectQuoteToken:a,buyResponseHash:r}=e,l=(0,p.Z)(),[i,s]=(0,o.useState)(0),d=l.myAccount,c=$(a,r),u=(0,h.iT)(),[x,g]=(0,o.useState)(),v=u.find(e=>{var t;return(null===(t=e.content.txn)||void 0===t?void 0:t.hash)===x}),y=!!(null==v?void 0:null===(t=v.content.txn)||void 0===t?void 0:t.success),k=l.tokens[a].address,j=(0,o.useMemo)(()=>c.filter(e=>e.pay_gem.toLowerCase()===k.toLowerCase()).sort((e,t)=>{let a=(0,b.w4)(e.buy_amt,18,3),n=Number((0,b.w4)(e.pay_amt,6,3))/Number(a),r=(0,b.w4)(t.buy_amt,18,3);return Number(Number((0,b.w4)(t.pay_amt,6,3))/Number(r))-Number(n)}),[c,k]),w=P(i),N=e=>{s(e),w(e,e=>{g(e)})};return(0,o.useEffect)(()=>{y&&window.location.reload()},[y]),(0,n.jsxs)(_,{children:[(0,n.jsxs)(E,{style:{marginBottom:"20px",fontWeight:"bold"},children:[(0,n.jsx)(z,{className:"text-center",children:"Price"}),(0,n.jsx)(I,{className:"text-center",children:a}),(0,n.jsx)(M,{className:"text-center",children:"ARTH-DP"}),(0,n.jsx)("div",{style:{padding:"13px"}})]}),j.map(e=>{let t=(0,b.w4)(m.O$.from(e.buy_amt),18,3),a=(0,b.w4)(m.O$.from(e.pay_amt),6,3),r=Number(a)/Number(t);return(0,n.jsxs)(E,{children:[(0,n.jsx)(z,{className:"table-border single-line-center-center",children:f()(r).format("0.000")}),(0,n.jsx)(I,{className:"table-border single-line-center-center",children:f()(a).format("0.000")}),(0,n.jsx)(M,{className:"table-border single-line-center-center",children:f()(t).format("0.000")}),d&&d.toLowerCase()===e.owner.toLowerCase()?(0,n.jsx)("div",{className:"single-line-center-center pointer p9",onClick:()=>{N(e.id)},children:(0,n.jsx)(H.Z,{})}):(0,n.jsx)("div",{})]},e.id)})]})};let U=(0,r.default)("div")({display:"flex",padding:"0 32px 32px 32px",alignItems:"self-start",marginTop:"24px",flexDirection:"column","@media (max-width: 600px)":{padding:"0 16px 16px 16px"}}),V=(0,r.default)("div")({display:"flex",flexDirection:"row",width:"100%","&:last-child":{marginBottom:"0"},"&.right":{textAlign:"right"}}),Q=(0,r.default)("div")({flexBasis:"33%",padding:"9px"}),Y=(0,r.default)("div")({flexBasis:"33%",padding:"9px"}),q=(0,r.default)("div")({flexBasis:"33%",padding:"9px"});var G=e=>{var t;let{selectQuoteToken:a,sellResponseHash:r}=e,l=(0,p.Z)(),i=$(a,r),[s,d]=(0,o.useState)(0),c=l.myAccount,u=(0,h.iT)(),[x,g]=(0,o.useState)(),v=u.find(e=>{var t;return(null===(t=e.content.txn)||void 0===t?void 0:t.hash)===x}),y=!!(null==v?void 0:null===(t=v.content.txn)||void 0===t?void 0:t.success),k=P(s),j=e=>{d(e),k(e,e=>{g(e)})},w=l.tokens[a].address,N=(0,o.useMemo)(()=>i.filter(e=>e.buy_gem.toLowerCase()===w.toLowerCase()).sort((e,t)=>{let a=(0,b.w4)(e.pay_amt,18,3),n=Number((0,b.w4)(e.buy_amt,6,3))/Number(a),r=(0,b.w4)(t.pay_amt,18,3),l=Number((0,b.w4)(t.buy_amt,6,3))/Number(r);return Number(n)-Number(l)}),[i,w]);return(0,o.useEffect)(()=>{y&&window.location.reload()},[y]),(0,n.jsxs)(U,{children:[(0,n.jsxs)(V,{style:{marginBottom:"20px",fontWeight:"bold"},children:[(0,n.jsx)(Q,{className:"text-center",children:"Price"}),(0,n.jsx)(Y,{className:"text-center",children:a}),(0,n.jsx)(q,{className:"text-center",children:"ARTH-DP"}),(0,n.jsx)("div",{style:{padding:"13px"}})]}),null==N?void 0:N.map((e,t)=>{let a=(0,b.w4)(m.O$.from(e.pay_amt),18,3),r=(0,b.w4)(m.O$.from(e.buy_amt),6,3),l=Number(r)/Number(a);return(0,n.jsxs)(V,{children:[(0,n.jsx)(Q,{className:"table-border single-line-center-center",children:f()(l).format("0.000")}),(0,n.jsx)(Y,{className:"table-border single-line-center-center",children:f()(r).format("0.000")}),(0,n.jsx)(q,{className:"table-border single-line-center-center",children:f()(a).format("0.000")}),c&&c.toLowerCase()===e.owner.toLowerCase()?(0,n.jsx)("div",{className:"single-line-center-center pointer",onClick:()=>{j(e.id)},style:{padding:"9px"},children:(0,n.jsx)(H.Z,{})}):(0,n.jsx)("div",{})]},t)})]})},K=a(76389),X=e=>{let t=(0,p.Z)();return(0,K.Z)(e,t.myAccount)};let J=(0,r.default)("div")({minWidth:"200px",width:"100%",borderRadius:"6px",height:"100%",border:"1px solid",borderImageSource:"linear-gradient(180deg, rgba(255, 116, 38, 0.1) 0%, rgba(255, 255, 255, 0) 100%)",marginBottom:"50px",marginRight:"5px","@media (max-width: 768px)":{marginTop:0,marginBottom:"8px"}}),ee=(0,r.default)("h2")({color:"#ffffff",display:"flex",fontWeight:600,fontSize:"18px",justifyContent:"start",alignItems:"center",textAlign:"center",padding:"32px 0 0 32px",marginBottom:"8px","@media (max-width: 600px)":{padding:"16px"}}),et=(0,r.default)("div")({color:"#999",display:"flex",fontSize:"14px",justifyContent:"start",alignItems:"center",textAlign:"center",padding:"0 32px 20px 32px",borderBottom:"1px solid #FFFFFF20","@media (max-width: 600px)":{padding:"16px"}}),ea=(0,r.default)("div")({padding:"5px 0",color:"#eee",position:"relative",backgroundClip:"padding-box",border:"1px solid",borderImageSource:"linear-gradient(180deg, rgba(255, 116, 38, 0.1) 0%, rgba(255, 255, 255, 0) 100%)",background:"rgba(255, 255, 255, 0.02)",backdropFilter:"blur(70px)",borderRadius:"6px","@media (max-width: 768px)":{minHeight:"auto"},minHeight:"400px"}),en=(0,r.default)("div")({display:"flex",flexDirection:"row",width:"100%",padding:"0 32px 0px 32px",marginTop:"24px","&:last-child":{marginBottom:0},"&.right":{textAlign:"right"}}),er=(0,r.default)("div")({flexBasis:"20%"}),el=(0,r.default)("div")({flexBasis:"55%"}),ei=(0,r.default)("div")({flexBasis:"25%"});var eo=()=>{let e=(0,l.Z)("(max-width: 600px)"),t=(0,p.Z)(),a=X(t.tokens["ARTH-DP"]);X(t.tokens.USDC);let r=localStorage.getItem("selectorQToken")||"usdc",[s,d]=(0,o.useState)("USDC"),[c,u]=(0,o.useState)(r),[m,x]=(0,o.useState)(),[f,g]=(0,o.useState)(),h=X(t.tokens.USDC),v=X(t.tokens.MAHA),y=X(t.tokens.SCLP);(0,o.useEffect)(()=>{"maha"===c?d("MAHA"):"usdc"===c?d("USDC"):d("SCLP")},[c]);let k=e=>{localStorage.setItem("selectorQToken",e),console.log("handleChange",e),u(e)};return(0,n.jsxs)("div",{className:"custom-container",children:[(0,n.jsx)(ee,{style:{fontSize:"24px",justifyContent:"center"},children:"Sell Your Debt Early"}),(0,n.jsx)(et,{style:{justifyContent:"center",marginBottom:"24px"},children:"In this section, you can place orders to sell your debt tokens (ARTH-DP) for other tokens at a price that you choose. On a monthly basis the team will attempt to regularly fullfil the orders with whatever inventory was available at that time."}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:(0,n.jsx)("div",{style:{marginRight:"10px"},children:(0,n.jsx)(i.Z,{text:"ARTH-DP / USDC",onClick:()=>{k("usdc")},variant:"usdc"===c?"default":"transparent"})})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:e?"column":"row"},children:(0,n.jsx)(J,{children:(0,n.jsxs)(ea,{className:"material-primary",children:[(0,n.jsx)(ee,{children:"SELL DEBT"}),(0,n.jsxs)(et,{children:["Sell your debt tokens for ",s]}),(0,n.jsxs)(en,{style:{marginBottom:"20px",fontWeight:"bold"},className:"alignItemsCenter",children:[(0,n.jsx)(er,{className:"text-center",children:"AVAILABLE"}),(0,n.jsx)(el,{className:"text-right",children:Number((0,b.w4)(a.value,18,3)).toLocaleString("en-US",{minimumFractionDigits:3})}),(0,n.jsx)(ei,{className:"text-center",children:"ARTH-DP"})]}),(0,n.jsx)(R,{baseTokenBalance:a,buyResponseHash:m,setBuyResponseHash:x,sellResponseHash:f,setSellResponseHash:g,action:"Sell",selectQuoteToken:{name:s,balance:"USDC"==s?Number((0,b.w4)(h.value,6,3)).toLocaleString("en-US",{minimumFractionDigits:3}):"MAHA"==s?Number((0,b.w4)(v.value,18,3)).toLocaleString("en-US",{minimumFractionDigits:3}):Number((0,b.w4)(y.value,18,3)).toLocaleString("en-US",{minimumFractionDigits:3})}})]})})}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:e?"column":"row"},children:[(0,n.jsx)(J,{children:(0,n.jsxs)(ea,{className:"material-primary",children:[(0,n.jsx)(ee,{children:"Buy Orders"}),(0,n.jsx)(et,{children:"All orders buying debt tokens"}),(0,n.jsx)(W,{selectQuoteToken:s,buyResponseHash:m})]})}),(0,n.jsx)(J,{children:(0,n.jsxs)(ea,{className:"material-primary",children:[(0,n.jsx)(ee,{children:"Sell Orders"}),(0,n.jsx)(et,{children:"All orders selling debt tokens"}),(0,n.jsx)(G,{selectQuoteToken:s,sellResponseHash:f})]})})]})]})}}},function(e){e.O(0,[1601,9635,537,5774,7490,2971,2117,1744],function(){return e(e.s=57522)}),_N_E=e.O()}]);